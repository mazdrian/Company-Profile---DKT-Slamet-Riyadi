{% extends "base.html" %}

{% block title %}Galeri - RST Slamet Riyadi{% endblock %}

{% block content %}
<div class="pt-32 pb-16 min-h-screen bg-gray-50 dark:bg-gray-900 relative">
    <!-- Logo di tengah sebagai background -->
    <div class="absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none">
        <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" class="w-96 h-96 object-contain">
    </div>
    
    <div class="relative z-10 mx-auto max-w-7xl px-6 lg:px-8">
        <!-- Galeri Foto Section -->
        <div class="text-center mb-12 reveal">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">Kumpulan Foto</h2>
            <div class="w-20 h-1 bg-green-600 mx-auto mt-6 rounded-full"></div>
            
            {% if current_user.is_authenticated %}
            <div class="mt-8">
                <a href="{{ url_for('tambah_galeri') }}" class="inline-flex items-center gap-2 rounded-md bg-green-700 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-green-600 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                    Tambah Foto
                </a>
            </div>
            {% endif %}
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
            {% for item in galleries %}
            <article class="flex flex-col items-start justify-between bg-white dark:bg-gray-800 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-md hover:shadow-xl reveal transform hover:-translate-y-1 transition duration-300">
                <a href="{{ url_for('detail_galeri', id=item.id) }}" class="relative w-full h-64 overflow-hidden group">
                    <img src="{{ item.main_image }}" alt="{{ item.title }}" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4">
                        <h3 class="text-xl font-bold text-white">{{ item.title }}</h3>
                        <p class="text-sm text-gray-200 mt-1">{{ item.images|length }} foto</p>
                    </div>
                </a>
            </article>
            {% else %}
            <div class="col-span-full text-center py-12">
                <p class="text-gray-500 dark:text-gray-400">Belum ada galeri yang tersedia.</p>
            </div>
            {% endfor %}
        </div>

        <!-- Video Section -->
        <div class="text-center mb-12 reveal mt-20">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">Kumpulan Video</h2>
            <div class="w-20 h-1 bg-green-600 mx-auto mt-6 rounded-full"></div>
            
            {% if current_user.is_authenticated %}
            <div class="mt-8">
                <a href="{{ url_for('tambah_video') }}" class="inline-flex items-center gap-2 rounded-md bg-green-700 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-green-600 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                    Tambah Video
                </a>
            </div>
            {% endif %}
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for video in videos %}
            <article class="flex flex-col items-start justify-between bg-white dark:bg-gray-800 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-md hover:shadow-xl reveal transform hover:-translate-y-1 transition duration-300">
                <a href="{{ url_for('detail_video', id=video.id) }}" class="relative w-full h-64 overflow-hidden group">
                    {% if video.thumbnail_url %}
                    <img src="{{ video.thumbnail_url }}" alt="{{ video.title }}" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                    {% else %}
                    <div class="w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24" class="w-20 h-20">
                            <path d="M8 5v14l11-7z"/>
                        </svg>
                    </div>
                    {% endif %}
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                    <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition">
                        <div class="bg-white/90 rounded-full p-4">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-10 h-10 text-blue-600">
                                <path d="M8 5v14l11-7z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="absolute bottom-0 left-0 right-0 p-4">
                        <h3 class="text-xl font-bold text-white">{{ video.title }}</h3>
                        {% if video.description %}
                        <p class="text-sm text-gray-200 mt-1 line-clamp-2">{{ video.description }}</p>
                        {% endif %}
                    </div>
                </a>
            </article>
            {% else %}
            <div class="col-span-full text-center py-12">
                <p class="text-gray-500 dark:text-gray-400">Belum ada video yang tersedia.</p>
            </div>
            {% endfor %}
        </div>
    </div>
    </div>
</div>
{% endblock %}